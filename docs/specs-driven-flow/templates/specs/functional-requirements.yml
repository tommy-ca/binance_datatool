# Functional Requirements Template
# Phase 1: Specifications | Functional Requirements Definition
# ================================================================

functional_requirements:
  # Feature identification
  feature_id: "{{FEATURE_ID}}"  # e.g., "FEAT001"
  feature_name: "{{FEATURE_NAME}}"  # e.g., "User Authentication"
  version: "{{VERSION}}"  # e.g., "1.0.0"
  created_date: "{{DATE}}"
  created_by: "{{TEAM_NAME}}"
  
  # Business context
  business_value: "{{BUSINESS_VALUE}}"  # e.g., "Secure user access and data protection"
  business_priority: "{{PRIORITY}}"  # must_have | should_have | could_have | won_t_have
  target_users: "{{TARGET_USERS}}"  # e.g., "End users, administrators"
  success_metrics:
    - metric: "{{SUCCESS_METRIC_1}}"  # e.g., "User login success rate > 99%"
    - metric: "{{SUCCESS_METRIC_2}}"  # e.g., "Average login time < 2 seconds"
  
  # Dependencies and constraints
  dependencies:
    upstream: []  # Features this depends on
    downstream: []  # Features that depend on this
  constraints:
    technical: []  # Technical limitations
    business: []  # Business constraints
    regulatory: []  # Compliance requirements
  
  # Functional requirements
  requirements:
    - id: "FR001"
      title: "{{REQUIREMENT_TITLE_1}}"  # e.g., "User Login"
      description: "{{REQUIREMENT_DESCRIPTION_1}}"  # e.g., "Users must be able to authenticate with email and password"
      
      # User story format
      user_story:
        as_a: "{{USER_ROLE}}"  # e.g., "registered user"
        i_want: "{{USER_WANT}}"  # e.g., "to log into the system"
        so_that: "{{USER_BENEFIT}}"  # e.g., "I can access my account"
      
      # Acceptance criteria (Given-When-Then format)
      acceptance_criteria:
        - "Given {{PRECONDITION}}, when {{ACTION}}, then {{EXPECTED_RESULT}}"
        # e.g., "Given valid credentials, when user submits login form, then user is authenticated successfully"
        - "Given {{PRECONDITION}}, when {{ACTION}}, then {{EXPECTED_RESULT}}"
        # e.g., "Given invalid credentials, when user submits login form, then error message is displayed"
        - "Given {{PRECONDITION}}, when {{ACTION}}, then {{EXPECTED_RESULT}}"
        # e.g., "Given login attempt, when authentication occurs, then event is logged for audit"
      
      # Classification
      priority: "{{REQUIREMENT_PRIORITY}}"  # must_have | should_have | could_have
      complexity: "{{COMPLEXITY}}"  # low | medium | high | very_high
      effort_estimate: "{{EFFORT_POINTS}}"  # story points (1, 2, 3, 5, 8, 13, 21)
      risk_level: "{{RISK_LEVEL}}"  # low | medium | high
      
      # Traceability
      business_rules: []  # Related business rules
      regulations: []  # Regulatory requirements
      stakeholders: []  # Key stakeholders for this requirement
      
      # Quality attributes
      performance_requirements:
        response_time: "{{RESPONSE_TIME}}"  # e.g., "< 100ms"
        throughput: "{{THROUGHPUT}}"  # e.g., "> 1000 req/s"
        availability: "{{AVAILABILITY}}"  # e.g., "99.9%"
      
      security_requirements:
        authentication: "{{AUTH_METHOD}}"  # e.g., "JWT tokens"
        authorization: "{{AUTHZ_METHOD}}"  # e.g., "RBAC"
        data_protection: "{{DATA_PROTECTION}}"  # e.g., "encryption at rest"
      
      # Testing considerations
      testability:
        unit_testable: true
        integration_testable: true
        ui_testable: true
        performance_testable: true
      
      test_scenarios:
        - scenario: "{{TEST_SCENARIO_1}}"  # e.g., "Happy path authentication"
        - scenario: "{{TEST_SCENARIO_2}}"  # e.g., "Invalid credentials handling"
        - scenario: "{{TEST_SCENARIO_3}}"  # e.g., "Account lockout scenario"
    
    - id: "FR002"
      title: "{{REQUIREMENT_TITLE_2}}"
      description: "{{REQUIREMENT_DESCRIPTION_2}}"
      
      user_story:
        as_a: "{{USER_ROLE}}"
        i_want: "{{USER_WANT}}"
        so_that: "{{USER_BENEFIT}}"
      
      acceptance_criteria:
        - "Given {{PRECONDITION}}, when {{ACTION}}, then {{EXPECTED_RESULT}}"
        - "Given {{PRECONDITION}}, when {{ACTION}}, then {{EXPECTED_RESULT}}"
      
      priority: "{{REQUIREMENT_PRIORITY}}"
      complexity: "{{COMPLEXITY}}"
      effort_estimate: "{{EFFORT_POINTS}}"
      risk_level: "{{RISK_LEVEL}}"
      
      performance_requirements:
        response_time: "{{RESPONSE_TIME}}"
        throughput: "{{THROUGHPUT}}"
        availability: "{{AVAILABILITY}}"
      
      security_requirements:
        authentication: "{{AUTH_METHOD}}"
        authorization: "{{AUTHZ_METHOD}}"
        data_protection: "{{DATA_PROTECTION}}"
      
      testability:
        unit_testable: true
        integration_testable: true
        ui_testable: true
        performance_testable: true
      
      test_scenarios:
        - scenario: "{{TEST_SCENARIO_1}}"
        - scenario: "{{TEST_SCENARIO_2}}"

# Risk assessment
risks:
  - risk_id: "RISK001"
    description: "{{RISK_DESCRIPTION}}"  # e.g., "Authentication bypass vulnerability"
    probability: "{{PROBABILITY}}"  # low | medium | high
    impact: "{{IMPACT}}"  # low | medium | high
    mitigation: "{{MITIGATION_STRATEGY}}"  # e.g., "Comprehensive security testing"
    owner: "{{RISK_OWNER}}"  # e.g., "Security team"

# Validation criteria
validation:
  completeness_check:
    - "All user stories have clear acceptance criteria"
    - "All requirements have testable conditions"
    - "All dependencies identified and documented"
    - "All risks assessed and mitigated"
  
  consistency_check:
    - "Requirements don't contradict each other"
    - "Priority levels are consistent with business value"
    - "Effort estimates are realistic"
    - "Performance requirements are achievable"
  
  quality_check:
    - "Requirements are specific and measurable"
    - "Acceptance criteria are unambiguous"
    - "Test scenarios cover all use cases"
    - "Security requirements are comprehensive"

# Approval process
approval:
  stakeholders:
    - role: "{{STAKEHOLDER_ROLE_1}}"  # e.g., "Product Owner"
      name: "{{STAKEHOLDER_NAME_1}}"
      approval_status: "pending"  # pending | approved | rejected
      approval_date: ""
      comments: ""
    
    - role: "{{STAKEHOLDER_ROLE_2}}"  # e.g., "Technical Lead"
      name: "{{STAKEHOLDER_NAME_2}}"
      approval_status: "pending"
      approval_date: ""
      comments: ""
  
  final_approval:
    status: "pending"  # pending | approved | rejected
    approved_by: ""
    approval_date: ""
    baseline_version: ""

# Change management
change_log:
  - version: "1.0.0"
    date: "{{DATE}}"
    author: "{{AUTHOR}}"
    changes: "Initial version"
    impact: "none"

# Next phase preparation
next_phase:
  design_considerations:
    - "{{DESIGN_CONSIDERATION_1}}"  # e.g., "Authentication flow design"
    - "{{DESIGN_CONSIDERATION_2}}"  # e.g., "Database schema design"
  
  technical_constraints:
    - "{{TECHNICAL_CONSTRAINT_1}}"  # e.g., "Must integrate with existing user database"
    - "{{TECHNICAL_CONSTRAINT_2}}"  # e.g., "Must support mobile and web clients"
  
  performance_targets:
    - "{{PERFORMANCE_TARGET_1}}"  # e.g., "Response time < 100ms"
    - "{{PERFORMANCE_TARGET_2}}"  # e.g., "Support 1000 concurrent users"